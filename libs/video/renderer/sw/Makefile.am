INCLUDES= -I$(top_srcdir)/include

if ASM_ARCH
asm = libasm.la
else
asm =
endif

if BUILD_SW
noinst_LTLIBRARIES=	libsw.la $(asm)
else
noinst_LTLIBRARIES=
endif

asm_src= \
	d_draw.S d_draw16.S d_parta.S d_polysa.S d_scana.S d_spr8.S d_varsa.S \
	surf16.S surf8.S sw_raclipa.S sw_raliasa.S sw_rdrawa.S sw_redgea.S \
	sw_rvarsa.S transform.S

sw_src= \
	d_edge.c d_fill.c d_init.c d_modech.c d_part.c d_polyse.c d_scan.c \
	d_sky.c d_sprite.c d_surf.c d_vars.c d_zpoint.c draw.c nonintel.c \
	screen.c sw_graph.c sw_raclip.c sw_ralias.c sw_rbsp.c sw_rdraw.c \
	sw_redge.c sw_rmain.c sw_rmisc.c sw_rpart.c sw_rsky.c sw_rsprite.c \
	sw_rsurf.c sw_skin.c

libasm_la_LDFLAGS= -static
libasm_la_SOURCES= $(asm_src)

libsw_la_LDFLAGS= -static
libsw_la_SOURCES= $(sw_src)
if ASM_ARCH
libsw_la_LIBADD= $(asm)
libsw_la_DEPENDENCIES= $(asm)
endif

EXTRA_DIST= $(sw_src) $(asm_src)
